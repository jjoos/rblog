#!/usr/bin/env bash

function echoStep {
  printf $'\e[37;44m\033[1m'"$1"
  echo $'\033[0m'
}

echoStep "Setting up RBlog environment."

if [ ! -d ".git" ]; then
  echoStep "You should run this script from the git repository root of RBlog"
  exit
fi

# Resetting repo to 'just' cloned state.
git clean -ffdx

if [[ ! -e .env ]]; then
  echoStep "Creating a dot env file."
  cat <<"DOTENVFILE" > .env
WEB_PORT=3900
API_PORT=3901
ASSETS_PORT=3902
DATABASE_PORT=3910
DATABASE_HOST=localhost
DOTENVFILE
fi
